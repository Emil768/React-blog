import React, { useState } from "react";

import "./Header.scss";
//lib
import { Link, NavLink } from "react-router-dom";
import MobileMenu from "../MobileMenu/MobileMenu";

//
function Header() {
  const [activeMobileMenu, setActiveMobileMenu] = useState(false);

  const handlerActiveMenu = () => {
    setActiveMobileMenu(!activeMobileMenu);
  };

  if (activeMobileMenu) {
    document.body.style.overflow = "hidden";
  } else {
    document.body.style.overflow = "visible";
  }

  let mediaQueryList = window.matchMedia("(min-width: 660px)");
  function screenTest(e) {
    if (e.matches) {
      setActiveMobileMenu(false);
    }
  }
  mediaQueryList.addListener(screenTest);

  return (
    <header className="header">
      <div className="container">
        <div className="header__content">
          <div className="logo">
            <Link to="/">
              <svg
                width="99"
                height="29"
                viewBox="0 0 99 29"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M81.096 5.96C81.096 6.17467 81.0773 6.36133 81.04 6.52H80.48C80.5173 6.66933 80.536 6.856 80.536 7.08C80.536 7.29467 80.5173 7.48133 80.48 7.64H81.04C81.0773 7.78933 81.096 7.976 81.096 8.2C81.096 8.41467 81.0773 8.60133 81.04 8.76C81.0773 8.90933 81.096 9.096 81.096 9.32C81.096 9.53467 81.0773 9.72133 81.04 9.88H80.48C80.5173 10.0293 80.536 10.216 80.536 10.44C80.536 10.6547 80.5173 10.8413 80.48 11H76.56C76.5227 10.8413 76.504 10.6547 76.504 10.44C76.504 10.216 76.5227 10.0293 76.56 9.88C76.5227 9.72133 76.504 9.53467 76.504 9.32C76.504 9.096 76.5227 8.90933 76.56 8.76C76.5227 8.60133 76.504 8.41467 76.504 8.2C76.504 7.976 76.5227 7.78933 76.56 7.64C76.5227 7.48133 76.504 7.29467 76.504 7.08C76.504 6.856 76.5227 6.66933 76.56 6.52C76.5227 6.36133 76.504 6.17467 76.504 5.96C76.504 5.736 76.5227 5.54933 76.56 5.4C76.5227 5.24133 76.504 5.05467 76.504 4.84C76.504 4.616 76.5227 4.42933 76.56 4.28C76.5227 4.12133 76.504 3.93467 76.504 3.72C76.504 3.496 76.5227 3.30933 76.56 3.16H80.48C80.5173 3.30933 80.536 3.496 80.536 3.72C80.536 3.93467 80.5173 4.12133 80.48 4.28H81.04C81.0773 4.42933 81.096 4.616 81.096 4.84C81.096 5.05467 81.0773 5.24133 81.04 5.4C81.0773 5.54933 81.096 5.736 81.096 5.96ZM79.92 6.52C79.8827 6.36133 79.864 6.17467 79.864 5.96C79.864 5.736 79.8827 5.54933 79.92 5.4C79.8827 5.24133 79.864 5.05467 79.864 4.84C79.864 4.616 79.8827 4.42933 79.92 4.28H77.68C77.7173 4.42933 77.736 4.616 77.736 4.84C77.736 5.05467 77.7173 5.24133 77.68 5.4C77.7173 5.54933 77.736 5.736 77.736 5.96C77.736 6.17467 77.7173 6.36133 77.68 6.52H79.92ZM79.92 8.76C79.8827 8.60133 79.864 8.41467 79.864 8.2C79.864 7.976 79.8827 7.78933 79.92 7.64H77.68C77.7173 7.78933 77.736 7.976 77.736 8.2C77.736 8.41467 77.7173 8.60133 77.68 8.76C77.7173 8.90933 77.736 9.096 77.736 9.32C77.736 9.53467 77.7173 9.72133 77.68 9.88H79.92C79.8827 9.72133 79.864 9.53467 79.864 9.32C79.864 9.096 79.8827 8.90933 79.92 8.76ZM86.7015 7.08C86.7015 7.29467 86.6828 7.48133 86.6455 7.64C86.6828 7.78933 86.7015 7.976 86.7015 8.2C86.7015 8.41467 86.6828 8.60133 86.6455 8.76H83.7055C83.7428 8.90933 83.7615 9.096 83.7615 9.32C83.7615 9.53467 83.7428 9.72133 83.7055 9.88H86.0855C86.1228 10.0293 86.1415 10.216 86.1415 10.44C86.1415 10.6547 86.1228 10.8413 86.0855 11H83.2855C83.2481 10.8413 83.2295 10.6547 83.2295 10.44C83.2295 10.216 83.2481 10.0293 83.2855 9.88H82.5855C82.5481 9.72133 82.5295 9.53467 82.5295 9.32C82.5295 9.096 82.5481 8.90933 82.5855 8.76H82.1655C82.1281 8.60133 82.1095 8.41467 82.1095 8.2C82.1095 7.976 82.1281 7.78933 82.1655 7.64H82.5855C82.5481 7.48133 82.5295 7.29467 82.5295 7.08C82.5295 6.856 82.5481 6.66933 82.5855 6.52H83.2855C83.2481 6.36133 83.2295 6.17467 83.2295 5.96C83.2295 5.736 83.2481 5.54933 83.2855 5.4H86.0855C86.1228 5.54933 86.1415 5.736 86.1415 5.96C86.1415 6.17467 86.1228 6.36133 86.0855 6.52H86.6455C86.6828 6.66933 86.7015 6.856 86.7015 7.08ZM85.5255 7.64C85.4881 7.48133 85.4695 7.29467 85.4695 7.08C85.4695 6.856 85.4881 6.66933 85.5255 6.52H83.7055C83.7428 6.66933 83.7615 6.856 83.7615 7.08C83.7615 7.29467 83.7428 7.48133 83.7055 7.64H85.5255ZM91.6909 9.88C91.7283 10.0293 91.7469 10.216 91.7469 10.44C91.7469 10.6547 91.7283 10.8413 91.6909 11H89.4509C89.4136 10.8413 89.3949 10.6547 89.3949 10.44C89.3949 10.216 89.4136 10.0293 89.4509 9.88H88.8909C88.8536 9.72133 88.8349 9.53467 88.8349 9.32C88.8349 9.096 88.8536 8.90933 88.8909 8.76C88.8536 8.60133 88.8349 8.41467 88.8349 8.2C88.8349 7.976 88.8536 7.78933 88.8909 7.64C88.8536 7.48133 88.8349 7.29467 88.8349 7.08C88.8349 6.856 88.8536 6.66933 88.8909 6.52H87.7709C87.7336 6.36133 87.7149 6.17467 87.7149 5.96C87.7149 5.736 87.7336 5.54933 87.7709 5.4H88.8909C88.8536 5.24133 88.8349 5.05467 88.8349 4.84C88.8349 4.616 88.8536 4.42933 88.8909 4.28C88.8536 4.12133 88.8349 3.93467 88.8349 3.72C88.8349 3.496 88.8536 3.30933 88.8909 3.16H90.0109C90.0483 3.30933 90.0669 3.496 90.0669 3.72C90.0669 3.93467 90.0483 4.12133 90.0109 4.28C90.0483 4.42933 90.0669 4.616 90.0669 4.84C90.0669 5.05467 90.0483 5.24133 90.0109 5.4H91.6909C91.7283 5.54933 91.7469 5.736 91.7469 5.96C91.7469 6.17467 91.7283 6.36133 91.6909 6.52H90.0109C90.0483 6.66933 90.0669 6.856 90.0669 7.08C90.0669 7.29467 90.0483 7.48133 90.0109 7.64C90.0483 7.78933 90.0669 7.976 90.0669 8.2C90.0669 8.41467 90.0483 8.60133 90.0109 8.76C90.0483 8.90933 90.0669 9.096 90.0669 9.32C90.0669 9.53467 90.0483 9.72133 90.0109 9.88H91.6909ZM97.8564 9.88C97.8937 10.0293 97.9124 10.216 97.9124 10.44C97.9124 10.6547 97.8937 10.8413 97.8564 11H96.7364C96.6991 10.8413 96.6804 10.6547 96.6804 10.44C96.6804 10.216 96.6991 10.0293 96.7364 9.88H96.1764C96.1391 9.72133 96.1204 9.53467 96.1204 9.32C96.1204 9.096 96.1391 8.90933 96.1764 8.76H94.4964C94.5337 8.90933 94.5524 9.096 94.5524 9.32C94.5524 9.53467 94.5337 9.72133 94.4964 9.88H96.1764C96.2137 10.0293 96.2324 10.216 96.2324 10.44C96.2324 10.6547 96.2137 10.8413 96.1764 11H93.9364C93.8991 10.8413 93.8804 10.6547 93.8804 10.44C93.8804 10.216 93.8991 10.0293 93.9364 9.88H93.3764C93.3391 9.72133 93.3204 9.53467 93.3204 9.32C93.3204 9.096 93.3391 8.90933 93.3764 8.76H93.9364C93.8991 8.60133 93.8804 8.41467 93.8804 8.2C93.8804 7.976 93.8991 7.78933 93.9364 7.64H96.1764C96.1391 7.48133 96.1204 7.29467 96.1204 7.08C96.1204 6.856 96.1391 6.66933 96.1764 6.52H94.2164C94.1791 6.36133 94.1604 6.17467 94.1604 5.96C94.1604 5.736 94.1791 5.54933 94.2164 5.4H96.7364C96.7737 5.54933 96.7924 5.736 96.7924 5.96C96.7924 6.17467 96.7737 6.36133 96.7364 6.52H97.2964C97.3337 6.66933 97.3524 6.856 97.3524 7.08C97.3524 7.29467 97.3337 7.48133 97.2964 7.64C97.3337 7.78933 97.3524 7.976 97.3524 8.2C97.3524 8.41467 97.3337 8.60133 97.2964 8.76C97.3337 8.90933 97.3524 9.096 97.3524 9.32C97.3524 9.53467 97.3337 9.72133 97.2964 9.88H97.8564Z"
                  fill="black"
                />
                <path
                  d="M2.32031 19.3398L7.82227 21.5635V23.2861L0.632812 19.9551V18.6719L7.82227 15.3496V17.0723L2.32031 19.3398ZM12.8232 12.2031L17.0068 22.6445L21.1904 12.2031H23.3789V25H21.6914V20.0166L21.8496 14.6377L17.6484 25H16.3564L12.1641 14.6641L12.3311 20.0166V25H10.6436V12.2031H12.8232ZM29.2148 22.6182L31.4297 15.4902H33.1699L29.3467 26.4678C28.7549 28.0498 27.8145 28.8408 26.5254 28.8408L26.2178 28.8145L25.6113 28.7002V27.3818L26.0508 27.417C26.6016 27.417 27.0293 27.3057 27.334 27.083C27.6445 26.8604 27.8994 26.4531 28.0986 25.8613L28.459 24.8945L25.0664 15.4902H26.8418L29.2148 22.6182ZM42.6797 20.3506C42.6797 21.8037 42.3457 22.9727 41.6777 23.8574C41.0098 24.7363 40.1133 25.1758 38.9883 25.1758C37.7871 25.1758 36.8584 24.751 36.2021 23.9014L36.123 25H34.6289V11.5H36.2549V16.5361C36.9111 15.7217 37.8164 15.3145 38.9707 15.3145C40.125 15.3145 41.0303 15.751 41.6865 16.624C42.3486 17.4971 42.6797 18.6924 42.6797 20.21V20.3506ZM41.0537 20.166C41.0537 19.0586 40.8398 18.2031 40.4121 17.5996C39.9844 16.9961 39.3691 16.6943 38.5664 16.6943C37.4941 16.6943 36.7236 17.1924 36.2549 18.1885V22.3018C36.7529 23.2979 37.5293 23.7959 38.584 23.7959C39.3633 23.7959 39.9697 23.4941 40.4033 22.8906C40.8369 22.2871 41.0537 21.3789 41.0537 20.166ZM46.5029 25H44.877V11.5H46.5029V25ZM48.6826 20.1572C48.6826 19.2256 48.8643 18.3877 49.2275 17.6436C49.5967 16.8994 50.1064 16.3252 50.7568 15.9209C51.4131 15.5166 52.1602 15.3145 52.998 15.3145C54.293 15.3145 55.3389 15.7627 56.1357 16.6592C56.9385 17.5557 57.3398 18.748 57.3398 20.2363V20.3506C57.3398 21.2764 57.1611 22.1084 56.8037 22.8467C56.4521 23.5791 55.9453 24.1504 55.2832 24.5605C54.627 24.9707 53.8711 25.1758 53.0156 25.1758C51.7266 25.1758 50.6807 24.7275 49.8779 23.8311C49.0811 22.9346 48.6826 21.748 48.6826 20.2715V20.1572ZM50.3174 20.3506C50.3174 21.4053 50.5605 22.252 51.0469 22.8906C51.5391 23.5293 52.1953 23.8486 53.0156 23.8486C53.8418 23.8486 54.498 23.5264 54.9844 22.8818C55.4707 22.2314 55.7139 21.3232 55.7139 20.1572C55.7139 19.1143 55.4648 18.2705 54.9668 17.626C54.4746 16.9756 53.8184 16.6504 52.998 16.6504C52.1953 16.6504 51.5479 16.9697 51.0557 17.6084C50.5635 18.2471 50.3174 19.1611 50.3174 20.3506ZM58.9922 20.166C58.9922 18.6836 59.335 17.5059 60.0205 16.6328C60.7061 15.7539 61.6143 15.3145 62.7451 15.3145C63.9053 15.3145 64.8105 15.7246 65.4609 16.5449L65.54 15.4902H67.0254V24.7715C67.0254 26.002 66.6592 26.9717 65.9268 27.6807C65.2002 28.3896 64.2217 28.7441 62.9912 28.7441C62.3057 28.7441 61.6348 28.5977 60.9785 28.3047C60.3223 28.0117 59.8213 27.6104 59.4756 27.1006L60.3193 26.125C61.0166 26.9863 61.8691 27.417 62.877 27.417C63.668 27.417 64.2832 27.1943 64.7227 26.749C65.168 26.3037 65.3906 25.6768 65.3906 24.8682V24.0508C64.7402 24.8008 63.8525 25.1758 62.7275 25.1758C61.6143 25.1758 60.7119 24.7275 60.0205 23.8311C59.335 22.9346 58.9922 21.7129 58.9922 20.166ZM60.627 20.3506C60.627 21.4229 60.8467 22.2666 61.2861 22.8818C61.7256 23.4912 62.3408 23.7959 63.1318 23.7959C64.1572 23.7959 64.9102 23.3301 65.3906 22.3984V18.0566C64.8926 17.1484 64.1455 16.6943 63.1494 16.6943C62.3584 16.6943 61.7402 17.002 61.2949 17.6172C60.8496 18.2324 60.627 19.1436 60.627 20.3506ZM69.8115 26.0986H68.4141L73.7578 12.2031H75.1465L69.8115 26.0986ZM82.6611 19.2871L76.8516 17.0107V15.3408L84.3574 18.6631V19.9463L76.8516 23.2773V21.5898L82.6611 19.2871Z"
                  fill="black"
                />
              </svg>
            </Link>
          </div>
          <button
            className={activeMobileMenu ? "mobile-menu change" : "mobile-menu"}
            onClick={handlerActiveMenu}
          >
            <div className="mobile-menu-line"></div>
            <div className="mobile-menu-line"></div>
            <div className="mobile-menu-line"></div>
          </button>
          <nav className="menu">
            <NavLink
              exact
              to="/"
              className="menu__link"
              activeClassName="menu__link--active"
            >
              Новости
            </NavLink>

            <NavLink
              to="/about"
              className="menu__link"
              activeClassName="menu__link--active"
            >
              Портфолио
            </NavLink>

            <NavLink
              to="/contacts"
              className="menu__link"
              activeClassName="menu__link--active"
            >
              Контакты
            </NavLink>

            {localStorage.length ? (
              <NavLink
                to="/addnews"
                className="menu__link"
                activeClassName="menu__link--active"
              >
                Предложить новость
              </NavLink>
            ) : null}
          </nav>
          <MobileMenu state={activeMobileMenu} setState={setActiveMobileMenu} />
        </div>
      </div>
    </header>
  );
}

export default Header;
